"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8576],{35538:(P,l,e)=>{e.d(l,{pL:()=>o,z5:()=>r});var a=e(32264);const o=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function i(){const t=a.$.licenseInfo?.trialExpiry;return!!(t&&t>0)}const r=()=>i()&&a.$.featureToggles.featureHighlights},14383:(P,l,e)=>{e.r(l),e.d(l,{SignupInvitedPage:()=>u,default:()=>x});var a=e(74848),o=e(32196),i=e(96540),r=e(16817),t=e(17172),h=e(40845),d=e(88575),m=e(10354),p=e(55852),v=e(72235),E=e(69444),D=e(2913),M=e(10096),O=e(35538);const A={main:{icon:"grafana",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]},node:{text:""}},u=({match:_})=>{const c=_.params.code,[g,I]=(0,i.useState)(),[T,j]=(0,i.useState)(),[B,C]=(0,i.useState)(),U=(0,h.of)(f);(0,r.A)(async()=>{const n=await(0,t.AI)().get(`/api/user/invite/${c}`);I({email:n.email,name:n.name,username:n.email}),j(n.name||n.email||n.username),C(n.invitedBy)},[c]);const L=async n=>{await(0,t.AI)().post("/api/user/invite/complete",{...n,inviteCode:c}),window.location.href=(0,D.zj)().appSubUrl+"/"};return g?(0,a.jsx)(E.Y,{navModel:A,children:(0,a.jsxs)(E.Y.Contents,{children:[(0,a.jsxs)("h3",{className:"page-sub-heading",children:["Hello ",T||"there","."]}),(0,a.jsxs)("div",{className:(0,o.cx)("modal-tagline",U.tagline),children:[(0,a.jsx)("em",{children:B||"Someone"})," has invited you to join Grafana and the organization"," ",(0,a.jsx)("span",{className:"highlight-word",children:M.TP.user.orgName}),(0,a.jsx)("br",{}),"Please complete the following and choose a password to accept your invitation and continue:"]}),(0,a.jsx)(v.l,{defaultValues:g,onSubmit:L,children:({register:n,errors:s})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.D,{invalid:!!s.email,error:s.email&&s.email.message,label:"Email",children:(0,a.jsx)(m.p,{placeholder:"email@example.com",...n("email",{required:"Email is required",pattern:{value:O.pL,message:"Email is invalid"}})})}),(0,a.jsx)(d.D,{invalid:!!s.name,error:s.name&&s.name.message,label:"Name",children:(0,a.jsx)(m.p,{placeholder:"Name (optional)",...n("name")})}),(0,a.jsx)(d.D,{invalid:!!s.username,error:s.username&&s.username.message,label:"Username",children:(0,a.jsx)(m.p,{...n("username",{required:"Username is required"}),placeholder:"Username"})}),(0,a.jsx)(d.D,{invalid:!!s.password,error:s.password&&s.password.message,label:"Password",children:(0,a.jsx)(m.p,{...n("password",{required:"Password is required"}),type:"password",placeholder:"Password"})}),(0,a.jsx)(p.$n,{type:"submit",children:"Sign up"})]})})]})}):null},f=_=>({tagline:(0,o.css)({paddingBottom:_.spacing(3)})}),x=u}}]);

//# sourceMappingURL=SignupInvited.5587258e08db48f7225f.js.map