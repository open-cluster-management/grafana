"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4085],{14591:(Q,K,a)=>{a.d(K,{i:()=>G});var t=a(74848),f=a(32196),O=a(96540),N=a(40845),A=a(64047);const G=({label:P,description:M,children:W,className:z,size:B="xl"})=>{const E=(0,N.of)(R),[I,w]=(0,O.useState)(!0),r=()=>w(!I);return(0,t.jsxs)("div",{className:(0,f.cx)(E.wrapper,z),children:[(0,t.jsx)(A.e,{className:E.toggle,size:B,onToggle:r,isCollapsed:I,text:P}),M&&(0,t.jsx)("p",{className:E.description,children:M}),(0,t.jsx)("div",{className:I?E.hidden:E.content,children:W})]})},R=P=>({wrapper:(0,f.css)({marginTop:P.spacing(1),paddingBottom:P.spacing(1)}),toggle:(0,f.css)({margin:P.spacing(1,0),padding:0}),hidden:(0,f.css)({display:"none"}),description:(0,f.css)({color:P.colors.text.secondary,fontSize:P.typography.size.sm,fontWeight:P.typography.fontWeightRegular,margin:0}),content:(0,f.css)({paddingLeft:P.spacing(3)})})},23807:(Q,K,a)=>{a.d(K,{e:()=>q});var t=a(74848),f=a(32196),O=a(2543),N=a(96540),A=a(49785),G=a(88575),R=a(40845),P=a(10880),M=a(10354),W=a(90182),z=a(83186),B=a(21744),E=a(55852),I=a(72275);const w=({value:e,onChange:i,readOnly:n=!1})=>{const c=(0,R.of)(r),[m,u]=(0,N.useState)(o(e));(0,N.useEffect)(()=>u(o(e)),[e]);const s=j=>{i(d(j))},g=j=>{const T=m.slice(),$=T.splice(j,1)[0];u(T),$[0]&&s(T)},h=(j,T)=>{const $=m[T],C=m.map((y,U)=>U===T?j:y);u(C),(j[0]||$[0])&&s(C)};return(0,t.jsxs)("div",{children:[!!m.length&&(0,t.jsxs)("table",{className:c.table,children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Value"}),!n&&(0,t.jsx)("th",{})]})}),(0,t.jsx)("tbody",{children:m.map(([j,T],$)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(M.p,{readOnly:n,value:j,onChange:C=>h([C.currentTarget.value,T],$)})}),(0,t.jsx)("td",{children:(0,t.jsx)(M.p,{readOnly:n,value:T,onChange:C=>h([j,C.currentTarget.value],$)})}),!n&&(0,t.jsx)("td",{children:(0,t.jsx)(I.M,{icon:"trash-alt",tooltip:"delete",onClick:()=>g($)})})]},$))})]}),!n&&(0,t.jsx)(E.$n,{className:c.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>u([...m,["",""]]),children:"Add"})]})},r=e=>({addButton:(0,f.css)({marginTop:e.spacing(1)}),table:(0,f.css)({"tbody td":{padding:`0 ${e.spacing(1)} ${e.spacing(1)} 0`}})}),d=e=>{const i={};for(const[n,c]of e)n&&(i[n]=c);return i},o=e=>Object.entries(e??{}),l=({value:e,onChange:i,readOnly:n=!1})=>{const c=(0,R.of)(p),m=s=>{if(!e)return;const g=e.slice();g.splice(s,1),i(g)},u=(s,g)=>{e&&i(e.map((h,j)=>j===g?s:h))};return(0,t.jsxs)("div",{children:[!!e?.length&&e.map((s,g)=>(0,t.jsxs)("div",{className:c.row,children:[(0,t.jsx)(M.p,{readOnly:n,value:s,onChange:h=>u(h.currentTarget.value,g)}),!n&&(0,t.jsx)(I.M,{className:c.deleteIcon,icon:"trash-alt",tooltip:"delete",onClick:()=>m(g)})]},g)),!n&&(0,t.jsx)(E.$n,{className:c.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>i([...e??[],""]),children:"Add"})]})},p=e=>({row:(0,f.css)({display:"flex",flexDirection:"row",marginBottom:e.spacing(1),alignItems:"center"}),deleteIcon:(0,f.css)({marginLeft:e.spacing(1)}),addButton:(0,f.css)({marginTop:e.spacing(1)})});var x=a(45124),S=a(14591);const b=e=>({collapsibleSection:(0,f.css)({margin:0,padding:0}),wrapper:(0,f.css)({margin:e.spacing(2,0),padding:e.spacing(1),border:`solid 1px ${e.colors.border.medium}`,borderRadius:e.shape.radius.default,position:"relative"}),description:(0,f.css)({color:e.colors.text.secondary,fontSize:e.typography.size.sm,fontWeight:e.typography.fontWeightRegular,margin:0}),deleteIcon:(0,f.css)({position:"absolute",right:e.spacing(1),top:e.spacing(1)}),addButton:(0,f.css)({marginTop:e.spacing(1)})}),D=({option:e,pathPrefix:i,errors:n,defaultValues:c,readOnly:m=!1})=>{const u=(0,R.of)(b),s=`${i}${e.propertyName}`,g=(0,A.xW)(),{fields:h,append:j,remove:T}=(0,x.r)({name:s,formAPI:g,defaults:c});return(0,t.jsx)("div",{className:u.wrapper,children:(0,t.jsxs)(S.i,{className:u.collapsibleSection,label:`${e.label} (${h.length})`,description:e.description,children:[(h??c??[]).map(($,C)=>(0,t.jsxs)("div",{className:u.wrapper,children:[!m&&(0,t.jsx)(I.M,{"data-testid":`${s}.${C}.delete-button`,icon:"trash-alt",tooltip:"delete",onClick:()=>T(C),className:u.deleteIcon}),e.subformOptions?.map(y=>(0,t.jsx)(q,{readOnly:m,defaultValue:$?.[y.propertyName],option:y,pathPrefix:`${s}.${C}.`,error:n?.[C]?.[y.propertyName]},y.propertyName))]},C)),!m&&(0,t.jsx)(E.$n,{"data-testid":`${s}.add-button`,className:u.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>j({__id:String(Math.random())}),children:"Add"})]})})},H=({option:e,pathPrefix:i,errors:n,defaultValue:c,readOnly:m=!1})=>{const u=(0,R.of)(b),s=`${i}${e.propertyName}`,{watch:g}=(0,A.xW)(),h=g(s),j=h===void 0?c:h,[T,$]=(0,N.useState)(!!j);return(0,t.jsxs)("div",{className:u.wrapper,"data-testid":`${s}.container`,children:[(0,t.jsx)("h6",{children:e.label}),e.description&&(0,t.jsx)("p",{className:u.description,children:e.description}),T&&(0,t.jsxs)(t.Fragment,{children:[!m&&(0,t.jsx)(I.M,{"data-testid":`${s}.delete-button`,icon:"trash-alt",tooltip:"delete",onClick:()=>$(!1),className:u.deleteIcon}),(e.subformOptions??[]).map(C=>(0,t.jsx)(q,{readOnly:m,defaultValue:c?.[C.propertyName],option:C,pathPrefix:`${s}.`,error:n?.[C.propertyName]},C.propertyName))]}),!T&&!m&&(0,t.jsx)(E.$n,{className:u.addButton,type:"button",variant:"secondary",icon:"plus",size:"sm",onClick:()=>$(!0),"data-testid":`${s}.add-button`,children:"Add"})]})};var se=a(73287),X=a(87978),V=a(67061),ce=a(94354),de=a(29158),ue=a(94753),Z=a(25027),me=a(87965),fe=a(51488),ne=a(70383),pe=a(33594),ge=a(70713),ae=a(90613),he=a(57220),re=a(41965),ve=a(96615),xe=a(78253),ye=a(10506);function je({payload:e,templateContent:i,templateName:n,payloadFormatError:c,setPayloadFormatError:m,className:u}){const s=(0,R.of)(Ce),{selectedAlertmanager:g}=(0,ne.VI)(),h=g===he.hY,{data:j,error:T}=(0,ye.g)(i,n,e,m),$=(0,xe.P)(T,c,j);return(0,t.jsxs)("div",{className:(0,f.cx)(u,s.mainContainer),children:[(0,t.jsxs)("div",{className:s.container,children:[(0,t.jsx)(re.D,{label:"Template content"}),(0,t.jsx)(ae.a,{flex:1,children:(0,t.jsx)("div",{className:s.viewerContainer({height:400}),children:(0,t.jsx)(ge.Ay,{children:({width:C,height:y})=>(0,t.jsx)(ve.K,{value:i,containerStyles:s.editorContainer,width:C,height:y,readOnly:!0})})})})]}),h&&(0,t.jsxs)("div",{className:s.container,children:[(0,t.jsx)(re.D,{label:"Preview with the default payload"}),(0,t.jsx)(ae.a,{flex:1,children:(0,t.jsx)("div",{className:s.viewerContainer({height:"minHeight"}),children:$})})]})]})}const Ce=e=>({mainContainer:(0,f.css)({display:"flex",flexDirection:"column",gap:e.spacing(2)}),container:(0,f.css)({label:"template-preview-container",display:"flex",flexDirection:"column",borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.medium}`}),viewerContainer:({height:i})=>(0,f.css)({height:i,overflow:"auto",backgroundColor:e.colors.background.primary}),editorContainer:(0,f.css)({width:"fit-content",border:"none"})});var Y=a(22153);function k({onSelect:e,option:i,valueInForm:n}){const[c,m]=(0,N.useState)(!1),u=()=>{m(!0),(0,Z.U6)()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.$n,{icon:"edit",tooltip:"Edit using existing templates.",onClick:u,variant:"secondary",size:"sm","aria-label":"Select available template from the list of available templates.",children:`Edit ${i.label}`}),c&&(0,t.jsx)(X._,{title:`Edit ${i.label}`,size:"md",onClose:()=>m(!1),children:(0,t.jsx)(Se,{onSelect:e,onClose:()=>m(!1),option:i,valueInForm:n})})]})}function Ee(e,i=[]){const n=new Map;return Object.entries(e).forEach(([c,m])=>{(0,Y.D)(m).forEach(s=>{n.set(s.name,{label:s.name,value:{name:s.name,content:s.content}})})}),i.forEach(c=>{n.set(c.name,{label:c.name,value:{name:c.name,content:c.content}})}),Array.from(n.values())}function Te(e,i){return i.find(c=>c.label===e)?.value?.content??""}function Se({onSelect:e,onClose:i,option:n,valueInForm:c}){const m=(0,R.of)(ie),u=me.E3.endpoints.getDefaultTemplates.useQuery,[s,g]=(0,N.useState)(void 0),[h,j]=(0,N.useState)(""),[T,$]=(0,N.useState)(c),{selectedAlertmanager:C}=(0,ne.VI)(),{data:y,error:U}=(0,fe.f)(C),{data:J}=u(),[v,F]=(0,N.useState)("Existing"),[oe,ee]=(0,se.A)(),Ae=[{label:"Selecting existing template",value:"Existing",description:`Select a single template and preview it, or copy it to paste it in the custom tab. ${v==="Existing"?"Clicking Save will save your changes to the selected template.":""}`},{label:`Enter custom ${n.label.toLowerCase()}`,value:"Custom",description:`Enter custom ${n.label.toLowerCase()}. ${v==="Custom"?"Clicking Save will save the custom value only.":""}`}];(0,N.useEffect)(()=>{s&&j((0,Y.Jl)(s.name))},[s]);function Ie(L){$(L)}const Me=L=>{F(L)},te=(0,N.useMemo)(()=>J?Ee(y?.template_files??{},J):[],[y,J]);return(0,N.useEffect)(()=>{if(c)if((0,Y.G7)(c)){const L=(0,Y.gY)(c);g({name:L,content:Te(L,te)})}else F("Custom")},[c,g,F,te]),U?(0,t.jsx)("div",{children:"Error loading templates"}):y?(0,t.jsxs)(V.B,{direction:"column",gap:1,justifyContent:"space-between",height:"100%",children:[(0,t.jsxs)(V.B,{direction:"column",gap:1,children:[(0,t.jsx)(ce.z,{options:Ae,value:v,onChange:Me,className:m.templateTabOption}),v==="Existing"?(0,t.jsxs)(V.B,{direction:"column",gap:1,children:[(0,t.jsxs)(V.B,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(W.l6,{"aria-label":"Template",onChange:(L,Oe)=>{g(L?.value)},options:te,width:50,value:s?{label:s.name,value:s}:void 0}),(0,t.jsx)(de.K,{tooltip:"Copy selected template to clipboard. You can use it in the custom tab.",onClick:()=>ee((0,Y.Jl)(s?.name??"")),name:"copy"})]}),(0,t.jsx)(je,{templateContent:s?.content??"",payload:pe.R_,templateName:s?.name??"",setPayloadFormatError:()=>{},className:(0,f.cx)(m.templatePreview,m.minEditorSize),payloadFormatError:null})]}):(0,t.jsx)($e,{option:n,onCustomTemplateChange:Ie,initialValue:T})]}),(0,t.jsxs)("div",{className:m.actions,children:[(0,t.jsx)(E.$n,{variant:"secondary",onClick:i,children:"Cancel"}),(0,t.jsx)(E.$n,{variant:"primary",onClick:()=>{e(v==="Custom"?T:h),i(),v==="Custom"?(0,Z.t6)():(0,Z.Cl)()},children:"Save"})]})]}):(0,t.jsx)("div",{children:"Loading..."})}function $e({option:e,onCustomTemplateChange:i,initialValue:n}){switch(e.element){case"textarea":return(0,t.jsx)(V.B,{direction:"row",gap:1,alignItems:"center",children:(0,t.jsx)(B.f,{placeholder:e.placeholder,onChange:c=>i(c.currentTarget.value),defaultValue:n})});case"input":return(0,t.jsx)(V.B,{direction:"row",gap:1,alignItems:"center",children:(0,t.jsx)(M.p,{type:e.inputType,placeholder:e.placeholder,onChange:c=>i(c.currentTarget.value),defaultValue:n})});default:return null}}function le({useTemplates:e,onSelectTemplate:i,option:n,name:c,children:m}){const u=(0,R.of)(ie),{getValues:s}=(0,A.xW)(),g=s(c)??"";return!n.placeholder.includes("{{ template ")||typeof g!="string"?(0,t.jsx)(t.Fragment,{children:m}):g?(g?(0,Y.G7)(g):!1)?(0,t.jsx)("div",{className:u.inputContainer,children:(0,t.jsxs)(V.B,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(ue.E,{variant:"bodySmall",children:`Template: ${(0,Y.gY)(g)}`}),e&&(0,t.jsx)(k,{onSelect:i,option:n,valueInForm:s(c)??""})]})}):(0,t.jsx)("div",{className:u.inputContainer,children:(0,t.jsxs)(V.B,{direction:"row",gap:1,alignItems:"center",children:[m,e&&(0,t.jsx)(k,{onSelect:i,option:n,valueInForm:s(c)??""})]})}):(0,t.jsx)("div",{className:u.inputContainer,children:(0,t.jsx)(V.B,{direction:"row",gap:1,alignItems:"center",children:e&&(0,t.jsx)(k,{onSelect:i,option:n,valueInForm:s(c)??""})})})}const ie=e=>({actions:(0,f.css)({flex:0,justifyContent:"flex-end",display:"flex",gap:e.spacing(1)}),templatePreview:(0,f.css)({flex:1,display:"flex"}),templateTabOption:(0,f.css)({width:"fit-content"}),minEditorSize:(0,f.css)({minHeight:300,minWidth:300}),inputContainer:(0,f.css)({marginTop:e.spacing(1.5)})}),q=({option:e,invalid:i,pathPrefix:n,pathSuffix:c="",error:m,defaultValue:u,readOnly:s=!1,customValidator:g})=>{const h=`${n}${c}`;return e.element==="subform"?(0,t.jsx)(H,{readOnly:s,defaultValue:u,option:e,errors:m,pathPrefix:h}):e.element==="subform_array"?(0,t.jsx)(D,{readOnly:s,defaultValues:u,option:e,pathPrefix:h,errors:m}):(0,t.jsx)(G.D,{label:e.element!=="checkbox"&&e.element!=="radio"?e.label:void 0,description:e.description||void 0,invalid:!!m,error:m?.message,"data-testid":`${h}${e.propertyName}`,children:(0,t.jsx)(Ne,{id:`${h}${e.propertyName}`,defaultValue:u,option:e,invalid:i,pathPrefix:h,readOnly:s,pathIndex:n,customValidator:g})})},Ne=({option:e,invalid:i,id:n,pathPrefix:c="",pathIndex:m="",readOnly:u=!1,customValidator:s})=>{const g=(0,R.of)(Re),{control:h,register:j,unregister:T,getValues:$,setValue:C}=(0,A.xW)(),y=`${c}${e.propertyName}`;(0,N.useEffect)(()=>()=>{T(y,{keepValue:!1})},[T,y]);const U=e.placeholder.includes("{{ template");function J(v){C(y,v)}switch(e.element){case"checkbox":return(0,t.jsx)(P.S,{id:n,readOnly:u,disabled:u,className:g.checkbox,...j(y),label:e.label,description:e.description});case"input":return(0,t.jsx)(le,{useTemplates:U,option:e,name:y,onSelectTemplate:J,children:(0,t.jsx)(M.p,{id:n,readOnly:u||U||be(e,$,m),invalid:i,type:e.inputType,...j(y,{required:Pe(e,$,m),validate:{validationRule:v=>e.validationRule?_(v,e.validationRule,e.required):!0,customValidator:v=>s?s(v):!0},setValueAs:e.setValueAs}),placeholder:e.placeholder})});case"select":return(0,t.jsx)(A.xI,{render:({field:{onChange:v,ref:F,...oe}})=>(0,t.jsx)(W.l6,{disabled:u,options:e.selectOptions??void 0,invalid:i,onChange:ee=>v(ee.value),...oe}),control:h,name:y,defaultValue:e.defaultValue?.value,rules:{validate:{customValidator:v=>s?s(v):!0}}});case"radio":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("legend",{className:g.legend,children:e.label}),(0,t.jsx)(A.xI,{render:({field:{ref:v,...F}})=>(0,t.jsx)(z.a,{disabled:u,options:e.selectOptions??[],...F}),control:h,defaultValue:e.defaultValue?.value,name:y,rules:{required:e.required?"Option is required":!1,validate:{validationRule:v=>e.validationRule?_(v,e.validationRule,e.required):!0,customValidator:v=>s?s(v):!0}}})]});case"textarea":return(0,t.jsx)(le,{useTemplates:U,option:e,name:y,onSelectTemplate:J,children:(0,t.jsx)(B.f,{id:n,readOnly:u||U,invalid:i,placeholder:e.placeholder,...j(y,{required:e.required?"Required":!1,validate:v=>e.validationRule!==""?_(v,e.validationRule,e.required):!0})})});case"string_array":return(0,t.jsx)(A.xI,{render:({field:{value:v,onChange:F}})=>(0,t.jsx)(l,{readOnly:u,value:v,onChange:F}),control:h,name:y});case"key_value_map":return(0,t.jsx)(A.xI,{render:({field:{value:v,onChange:F}})=>(0,t.jsx)(w,{readOnly:u,value:v,onChange:F}),control:h,name:y});default:return console.error("Element not supported",e.element),null}},Re=e=>({checkbox:(0,f.css)({height:"auto"}),legend:(0,f.css)({fontSize:e.typography.h6.fontSize})}),_=(e,i,n)=>e===""&&!n||RegExp(i).test(e)?!0:"Invalid format",Pe=(e,i,n)=>e.dependsOn?(0,O.isEmpty)(i(`${n}secureFields`))?!i(`${n}secureSettings.${e.dependsOn}`)&&e.required?"Required":!1:!i(`${n}secureFields.${e.dependsOn}`)&&e.required?"Required":!1:e.required?"Required":!1,be=(e,i,n)=>e.dependsOn?(0,O.isEmpty)(i(`${n}secureFields`))?i(`${n}secureSettings.${e.dependsOn}`):i(`${n}secureFields.${e.dependsOn}`):!1},45124:(Q,K,a)=>{a.d(K,{r:()=>A});var t=a(2543),f=a.n(t),O=a(96540);const N=[];function A(G){const{name:R,formAPI:P,defaults:M,softDelete:W}=G,{watch:z,getValues:B,reset:E,setValue:I}=P,w=z(R)??M??N,r=(0,O.useCallback)(d=>{const o=JSON.parse(JSON.stringify(B())),l=d(w??[]);E((0,t.set)(o,R,l))},[B,R,E,w]);return{fields:w,append:(0,O.useCallback)(d=>r(o=>[...o,d]),[r]),remove:(0,O.useCallback)(d=>{W?I(`${R}.${d}.__deleted`,!0):r(o=>{const l=o.slice();return l.splice(d,1),l})},[r,R,I,W])}}},72399:(Q,K,a)=>{a.d(K,{FN:()=>E,Iq:()=>N,QX:()=>G,Xo:()=>O,bB:()=>A,jS:()=>R,qg:()=>z});var t=a(2543),f=a.n(t);function O(r,d){const o={};let l=1;return[{name:r.name,items:r.grafana_managed_receiver_configs?.map(x=>{const S=String(l++);o[S]=x;const b=d.find(({type:D})=>D===x.type);return W(S,x,b)})??[]},o]}function N(r,d){const o={};let l=1;const p=Object.entries(r).filter(([S])=>S.endsWith("_configs")&&S!=="grafana_managed_receiver_configs").map(([S,b])=>[S.replace("_configs",""),b]).map(([S,b])=>b.map(D=>{const H=String(l++);if(o[H]={type:S,config:D},!d.find(X=>X.type===S))throw new Error(`unknown cloud notifier: ${S}`);return M(H,S,D)})).flat();return[{name:r.name,items:p},o]}function A(r,d,o,l){return{name:r.name,grafana_managed_receiver_configs:(r.items??[]).map(p=>{const x=d[p.__id],S=l.find(b=>b.type===p.type);return z(p,o,r.name,x,S)})}}function G(r,d){const o={name:r.name};return r.items.forEach(({__id:l,type:p,settings:x,sendResolved:S})=>{const b=E({...w(x),send_resolved:S??d.sendResolved});`${p}_configs`in o?o[`${p}_configs`]?.push(b):o[`${p}_configs`]=[b]}),o}function R(r,d,o){const l=r.alertmanager_config.receivers??[];if(d.name!==o&&l.find(({name:x})=>x===d.name))throw new Error(`Duplicate receiver name ${d.name}`);if(o&&!l.find(({name:x})=>x===o))throw new Error(`Expected receiver ${o} to exist, but did not find it in the config`);const p={...r,alertmanager_config:{...r.alertmanager_config,receivers:o?l.map(x=>x.name===o?d:x):[...l,d]}};return p.alertmanager_config.route&&o&&d.name!==o&&(p.alertmanager_config.route=P(p.alertmanager_config.route,o,d.name)),p}function P(r,d,o){const l={...r};return l.receiver===d&&(l.receiver=o),l.routes&&(l.routes=l.routes.map(p=>P(p,d,o))),l}function M(r,d,o){return{__id:r,type:d,settings:{...o},secureFields:{},secureSettings:{},sendResolved:o.send_resolved}}function W(r,d,o){const l={__id:r,type:d.type,provenance:d.provenance,secureSettings:{},settings:{...d.settings},secureFields:{...d.secureFields},disableResolveMessage:d.disableResolveMessage};return o?.options.forEach(p=>{p.secure&&l.secureSettings[p.propertyName]&&(delete l.settings[p.propertyName],l.secureFields[p.propertyName]=!0),p.secure&&l.settings[p.propertyName]&&(l.secureSettings[p.propertyName]=l.settings[p.propertyName],delete l.settings[p.propertyName])}),l}function z(r,d,o,l,p){const x={settings:E({...l&&l.type===r.type?l.settings??{}:{},...r.settings??{}}),secureSettings:I(r.secureSettings,l?.secureFields),type:r.type,name:o,disableResolveMessage:r.disableResolveMessage??l?.disableResolveMessage??d.disableResolveMessage},S=p?.options.filter(D=>D.secure).map(D=>D.propertyName)??[],b=(0,t.pick)(x.settings,S);return x.secureSettings={...b,...x.secureSettings},x.settings=(0,t.omit)(x.settings,S),l&&(x.uid=l.uid),x}const B=r=>(0,t.isNil)(r)||r==="";function E(r){return(0,t.isArray)(r)?r.forEach(E):typeof r=="object"&&r!==null&&Object.entries(r).forEach(([d,o])=>{B(o)?delete r[d]:E(o)}),r}function I(r={},d={}){return(0,t.omitBy)(r,(o,l)=>B(o)&&!(l in d))}function w(r){function d(l){(0,t.isArray)(l)?l.forEach(d):typeof l=="object"&&l!==null&&("__id"in l&&delete l.__id,Object.values(l).forEach(d))}const o=structuredClone(r);return d(o),o}}}]);

//# sourceMappingURL=4085.270f66860a57d98fa0b8.js.map