"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5930],{"./public/app/core/components/Signup/VerifyEmailPage.tsx":(e,i,a)=>{a.r(i),a.d(i,{VerifyEmailPage:()=>x,default:()=>v});var n,r,s,t,c=a("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js"),l=a("./public/app/core/components/Login/LoginLayout.tsx"),o=a("./packages/grafana-runtime/src/index.ts"),d=a("./packages/grafana-ui/src/index.ts"),p=a("./public/app/core/config.ts"),u=a("./public/app/core/copy/appNotification.ts"),g=a("./public/app/features/admin/utils.ts"),m=a("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");const h=()=>{const e=(0,u.iG)(),[i,a]=(0,c.useState)(!1);return i?(0,m.jsxs)("div",{children:[n||(n=(0,m.jsx)("p",{children:"An email with a verification link has been sent to the email address. You should receive it shortly."})),r||(r=(0,m.jsx)(d.Container,{margin:"md"})),(0,m.jsx)(d.LinkButton,{variant:"primary",href:(0,p.iE)().appSubUrl+"/signup",children:"Complete Signup"})]}):(0,m.jsx)(d.Form,{onSubmit:i=>{(0,o.getBackendSrv)().post("/api/user/signup",i).then((()=>{a(!0)})).catch((i=>{var a;const n=(null===(a=i.data)||void 0===a?void 0:a.message)||i;e.warning(n)}))},children:e=>{var i;let{register:a,errors:n}=e;return(0,m.jsxs)(m.Fragment,{children:[s||(s=(0,m.jsx)(d.Legend,{children:"Verify Email"})),(0,m.jsx)(d.Field,{label:"Email",description:"Enter your email address to get a verification link sent to you",invalid:!!n.email,error:null===(i=n.email)||void 0===i?void 0:i.message,children:(0,m.jsx)(d.Input,Object.assign({id:"email"},a("email",{required:"Email is required",pattern:{value:g.Yb,message:"Email is invalid"}}),{placeholder:"Email"}))}),(0,m.jsxs)(d.HorizontalGroup,{children:[t||(t=(0,m.jsx)(d.Button,{children:"Send verification email"})),(0,m.jsx)(d.LinkButton,{fill:"text",href:(0,p.iE)().appSubUrl+"/login",children:"Back to login"})]})]})}})};var f;const x=()=>f||(f=(0,m.jsx)(l.dd,{children:(0,m.jsx)(l.$s,{children:(0,m.jsx)(h,{})})})),v=x},"./public/app/features/admin/utils.ts":(e,i,a)=>{a.d(i,{Yb:()=>r,d5:()=>s});var n=a("./packages/grafana-runtime/src/index.ts");const r=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;const s=()=>function(){var e;const i=null===(e=n.config.licenseInfo)||void 0===e?void 0:e.trialExpiry;return!!(i&&i>0)}()&&n.config.featureToggles.featureHighlights}}]);
//# sourceMappingURL=5930.fc18bd979b2342f8847a.js.map