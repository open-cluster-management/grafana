"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2058],{92058:(E,d,e)=>{e.r(d),e.d(d,{plugin:()=>p});var u=e(40187),v=e(36666),r=e(62467),h=e(72316),m=e(81160),g=e(69850),D=e(80943),f=e(74730);class C extends u.mA{constructor(t){super(t)}getCollapsedText(t){return`Dashboard Reference: ${t.panelId}`}query(t){const s=t.scopedVars?.__sceneObject;let i=s?s.value.valueOf():void 0;if(t.requestId.indexOf("mixed")>-1)throw new Error("Dashboard data source cannot be used with Mixed data source.");if(!i)throw new Error("Can only be called from a scene");const o=t.targets[0];if(!o)return(0,r.of)({data:[]});const l=o.panelId;if(!l)return(0,r.of)({data:[]});let c=this.findSourcePanel(i,l);if(!c)return(0,r.of)({data:[],error:{message:"Could not find source panel"}});let a=c.state.$data;return!o.withTransforms&&a instanceof D.Es&&(a=a.state.$data),!a||!a.getResultsStream?(0,r.of)({data:[]}):(0,h.v)(()=>{!a.isActive&&a?.setContainerWidth&&a?.setContainerWidth(500);const y=a.activate();return a.getResultsStream().pipe((0,m.T)(n=>({data:n.data.series,state:n.data.state,errors:n.data.errors,error:n.data.error,key:"source-ds-provider"})),(0,g.j)(y))})}findSourcePanel(t,s){return(0,f.vL)(t,(0,f.XA)(s))}testDatasource(){return Promise.resolve({message:"",status:""})}}const p=new u.tD(C).setQueryEditor(v.A)}}]);

//# sourceMappingURL=2058.7dda007492200fa4028b.js.map