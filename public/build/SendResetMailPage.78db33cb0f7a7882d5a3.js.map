{"version":3,"file":"SendResetMailPage.78db33cb0f7a7882d5a3.js","mappings":"qTAaA,MAAMA,EAAmBC,MACvB,OAAI,CACF,MAAOA,EAAM,OAAO,KAAK,UACzB,SAAUA,EAAM,WAAW,UAAU,SACrC,WAAYA,EAAM,WAAW,kBAC7B,UAAWA,EAAM,QAAQ,CAAC,EAC1B,QAAS,OACX,CAAC,EAEUC,EAAoB,IAAM,CACrC,KAAM,CAACC,EAAWC,CAAY,KAAI,YAAS,EAAK,EAC1CC,KAAS,MAAWL,CAAe,EACnCM,EAAY,GAAGC,EAAA,GAAO,SAAS,SAC/B,CACJ,aAAAC,EACA,SAAAC,EACA,UAAW,CAAE,OAAAC,CAAO,CACtB,KAAI,MAAkB,EAEhBC,EAAY,MAAOC,GAAwB,CACnC,QAAM,MAAc,EAAE,KAAK,sCAAuCA,CAAS,GAErFR,EAAa,EAAI,CAErB,EAEA,OAAID,KAEA,QAAC,OACC,oBAAC,KAAE,yGAA6F,KAChG,OAAC,KAAS,CAAC,OAAO,IAAK,MACvB,OAAC,KAAU,CAAC,QAAQ,UAAU,KAAMG,EAAW,yBAE/C,GACF,KAIF,QAAC,QAAK,SAAUE,EAAaG,CAAS,EACpC,oBAACE,EAAA,EAAM,CAAC,0BAAc,KACtB,OAACC,EAAA,GACC,MAAM,OACN,YAAY,yDACZ,QAAS,CAAC,CAACJ,EAAO,YAClB,MAAOA,GAAQ,aAAa,QAE5B,mBAACK,EAAA,GACC,GAAG,aACH,YAAY,oBACX,GAAGN,EAAS,cAAe,CAAE,SAAU,+BAAgC,CAAC,EAC3E,EACF,KACA,QAACO,EAAA,EAAK,CACJ,oBAACC,EAAA,GAAM,CAAC,KAAK,SAAS,4BAAgB,KACtC,OAAC,KAAU,CAAC,KAAK,OAAO,KAAMX,EAAW,yBAEzC,GACF,KAEA,OAAC,KAAE,UAAWD,EAAQ,sFAA0E,GAClG,CAEJ,ECvEaa,EAAoB,OAC/B,OAACC,EAAA,GAAW,CACV,mBAAC,KAAQ,CACP,mBAACjB,EAAiB,EAAC,EACrB,EACF,EAGF,EAAegB,C","sources":["webpack://grafana/./public/app/core/components/ForgottenPassword/ForgottenPassword.tsx","webpack://grafana/./public/app/core/components/ForgottenPassword/SendResetMailPage.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { Field, Input, Button, Legend, Container, useStyles2, LinkButton, Stack } from '@grafana/ui';\nimport config from 'app/core/config';\n\ninterface EmailDTO {\n  userOrEmail: string;\n}\n\nconst paragraphStyles = (theme: GrafanaTheme2) =>\n  css({\n    color: theme.colors.text.secondary,\n    fontSize: theme.typography.bodySmall.fontSize,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginTop: theme.spacing(1),\n    display: 'block',\n  });\n\nexport const ForgottenPassword = () => {\n  const [emailSent, setEmailSent] = useState(false);\n  const styles = useStyles2(paragraphStyles);\n  const loginHref = `${config.appSubUrl}/login`;\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm<EmailDTO>();\n\n  const sendEmail = async (formModel: EmailDTO) => {\n    const res = await getBackendSrv().post('/api/user/password/send-reset-email', formModel);\n    if (res) {\n      setEmailSent(true);\n    }\n  };\n\n  if (emailSent) {\n    return (\n      <div>\n        <p>An email with a reset link has been sent to the email address. You should receive it shortly.</p>\n        <Container margin=\"md\" />\n        <LinkButton variant=\"primary\" href={loginHref}>\n          Back to login\n        </LinkButton>\n      </div>\n    );\n  }\n  return (\n    <form onSubmit={handleSubmit(sendEmail)}>\n      <Legend>Reset password</Legend>\n      <Field\n        label=\"User\"\n        description=\"Enter your information to get a reset link sent to you\"\n        invalid={!!errors.userOrEmail}\n        error={errors?.userOrEmail?.message}\n      >\n        <Input\n          id=\"user-input\"\n          placeholder=\"Email or username\"\n          {...register('userOrEmail', { required: 'Email or username is required' })}\n        />\n      </Field>\n      <Stack>\n        <Button type=\"submit\">Send reset email</Button>\n        <LinkButton fill=\"text\" href={loginHref}>\n          Back to login\n        </LinkButton>\n      </Stack>\n\n      <p className={styles}>Did you forget your username or email? Contact your Grafana administrator.</p>\n    </form>\n  );\n};\n","import { LoginLayout, InnerBox } from '../Login/LoginLayout';\n\nimport { ForgottenPassword } from './ForgottenPassword';\n\nexport const SendResetMailPage = () => (\n  <LoginLayout>\n    <InnerBox>\n      <ForgottenPassword />\n    </InnerBox>\n  </LoginLayout>\n);\n\nexport default SendResetMailPage;\n"],"names":["paragraphStyles","theme","ForgottenPassword","emailSent","setEmailSent","styles","loginHref","config","handleSubmit","register","errors","sendEmail","formModel","Legend","Field","Input","Stack","Button","SendResetMailPage","LoginLayout"],"sourceRoot":""}