{"version":3,"file":"mssqlPlugin.d39a32c95259ee939e5c.js","mappings":"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","sources":["webpack://grafana/./node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSection.js","webpack://grafana/./node_modules/@grafana/experimental/dist/esm/ConfigEditor/DataSourceDescription.js","webpack://grafana/./public/app/plugins/datasource/mssql/CheatSheet.tsx","webpack://grafana/./public/app/plugins/datasource/mssql/types.ts","webpack://grafana/./public/app/plugins/datasource/mssql/azureauth/AzureCredentials.ts","webpack://grafana/./public/app/plugins/datasource/mssql/azureauth/AzureCredentialsConfig.ts","webpack://grafana/./public/app/plugins/datasource/mssql/azureauth/AzureCredentialsForm.tsx","webpack://grafana/./public/app/plugins/datasource/mssql/azureauth/AzureAuthSettings.tsx","webpack://grafana/./public/app/plugins/datasource/mssql/configuration/Kerberos.tsx","webpack://grafana/./public/app/plugins/datasource/mssql/configuration/ConfigurationEditor.tsx","webpack://grafana/./public/app/plugins/datasource/mssql/MSSqlMetaQuery.ts","webpack://grafana/./public/app/plugins/datasource/mssql/MSSqlQueryModel.ts","webpack://grafana/./public/app/plugins/datasource/mssql/sqlCompletionProvider.ts","webpack://grafana/./public/app/plugins/datasource/mssql/sqlUtil.ts","webpack://grafana/./public/app/plugins/datasource/mssql/datasource.ts","webpack://grafana/./public/app/plugins/datasource/mssql/module.ts"],"sourcesContent":["import React from 'react';\nimport { GenericConfigSection } from './GenericConfigSection.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst ConfigSection = (_a) => {\n  var _b = _a, { children } = _b, props = __objRest(_b, [\"children\"]);\n  return /* @__PURE__ */ React.createElement(GenericConfigSection, __spreadProps(__spreadValues({}, props), { kind: \"section\" }), children);\n};\n\nexport { ConfigSection };\n//# sourceMappingURL=ConfigSection.js.map\n","import React from 'react';\nimport { css, cx } from '@emotion/css';\nimport { useTheme2 } from '@grafana/ui';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst DataSourceDescription = ({ dataSourceName, docsLink, hasRequiredFields = true, className }) => {\n  const theme = useTheme2();\n  const styles = {\n    container: css({\n      p: {\n        margin: 0\n      },\n      \"p + p\": {\n        marginTop: theme.spacing(2)\n      }\n    }),\n    text: css(__spreadProps(__spreadValues({}, theme.typography.body), {\n      color: theme.colors.text.secondary,\n      a: css({\n        color: theme.colors.text.link,\n        textDecoration: \"underline\",\n        \"&:hover\": {\n          textDecoration: \"none\"\n        }\n      })\n    }))\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", { className: cx(styles.container, className) }, /* @__PURE__ */ React.createElement(\"p\", { className: styles.text }, \"Before you can use the \", dataSourceName, \" data source, you must configure it below or in the config file. For detailed instructions,\", \" \", /* @__PURE__ */ React.createElement(\"a\", { href: docsLink, target: \"_blank\", rel: \"noreferrer\" }, \"view the documentation\"), \".\"), hasRequiredFields && /* @__PURE__ */ React.createElement(\"p\", { className: styles.text }, /* @__PURE__ */ React.createElement(\"i\", null, \"Fields marked with * are required\")));\n};\n\nexport { DataSourceDescription };\n//# sourceMappingURL=DataSourceDescription.js.map\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nexport function CheatSheet() {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div>\n      <h2>MSSQL cheat sheet</h2>\n      Time series:\n      <ul className={styles.ulPadding}>\n        <li>\n          return column named time (in UTC), as a unix time stamp or any sql native date data type. You can use the\n          macros below.\n        </li>\n        <li>any other columns returned will be the time point values.</li>\n      </ul>\n      Optional:\n      <ul className={styles.ulPadding}>\n        <li>\n          return column named <i>metric</i> to represent the series name.\n        </li>\n        <li>If multiple value columns are returned the metric column is used as prefix.</li>\n        <li>If no column named metric is found the column name of the value column is used as series name</li>\n      </ul>\n      <p>Resultsets of time series queries need to be sorted by time.</p>\n      Table:\n      <ul className={styles.ulPadding}>\n        <li>return any set of columns</li>\n      </ul>\n      Macros:\n      <ul className={styles.ulPadding}>\n        <li>$__time(column) -&gt; column AS time</li>\n        <li>$__timeEpoch(column) -&gt; DATEDIFF(second, &apos;1970-01-01&apos;, column) AS time</li>\n        <li>\n          $__timeFilter(column) -&gt; column BETWEEN &apos;2017-04-21T05:01:17Z&apos; AND\n          &apos;2017-04-21T05:01:17Z&apos;\n        </li>\n        <li>$__unixEpochFilter(column) -&gt; column &gt;= 1492750877 AND column &lt;= 1492750877</li>\n        <li>\n          $__unixEpochNanoFilter(column) -&gt; column &gt;= 1494410783152415214 AND column &lt;= 1494497183142514872\n        </li>\n        <li>\n          $__timeGroup(column, &apos;5m&apos;[, fillvalue]) -&gt; CAST(ROUND(DATEDIFF(second, &apos;1970-01-01&apos;,\n          column)/300.0, 0) as bigint)*300 by setting fillvalue grafana will fill in missing values according to the\n          interval fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen\n          value or NULL if none has been seen yet\n        </li>\n        <li>\n          $__timeGroupAlias(column, &apos;5m&apos;[, fillvalue]) -&gt; CAST(ROUND(DATEDIFF(second,\n          &apos;1970-01-01&apos;, column)/300.0, 0) as bigint)*300 AS [time]\n        </li>\n        <li>$__unixEpochGroup(column,&apos;5m&apos;) -&gt; FLOOR(column/300)*300</li>\n        <li>$__unixEpochGroupAlias(column,&apos;5m&apos;) -&gt; FLOOR(column/300)*300 AS [time]</li>\n      </ul>\n      <p>Example of group by and order by with $__timeGroup:</p>\n      <pre>\n        <code>\n          SELECT $__timeGroup(date_time_col, &apos;1h&apos;) AS time, sum(value) as value <br />\n          FROM yourtable\n          <br />\n          GROUP BY $__timeGroup(date_time_col, &apos;1h&apos;)\n          <br />\n          ORDER BY 1\n          <br />\n        </code>\n      </pre>\n      Or build your own conditionals using these macros which just return the values:\n      <ul className={styles.ulPadding}>\n        <li>$__timeFrom() -&gt; &apos;2017-04-21T05:01:17Z&apos;</li>\n        <li>$__timeTo() -&gt; &apos;2017-04-21T05:01:17Z&apos;</li>\n        <li>$__unixEpochFrom() -&gt; 1492750877</li>\n        <li>$__unixEpochTo() -&gt; 1492750877</li>\n        <li>$__unixEpochNanoFrom() -&gt; 1494410783152415214</li>\n        <li>$__unixEpochNanoTo() -&gt; 1494497183142514872</li>\n      </ul>\n    </div>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    ulPadding: css({\n      margin: theme.spacing(1, 0),\n      paddingLeft: theme.spacing(5),\n    }),\n  };\n}\n","import { DataSourceJsonData } from '@grafana/data';\nimport { SQLOptions } from '@grafana/sql';\nimport { HttpSettingsBaseProps } from '@grafana/ui/src/components/DataSourceSettings/types';\n\nexport enum MSSQLAuthenticationType {\n  sqlAuth = 'SQL Server Authentication',\n  windowsAuth = 'Windows Authentication',\n  azureAuth = 'Azure AD Authentication',\n  kerberosRaw = 'Windows AD: Username + password',\n  kerberosKeytab = 'Windows AD: Keytab',\n  kerberosCredentialCache = 'Windows AD: Credential cache',\n  kerberosCredentialCacheLookupFile = 'Windows AD: Credential cache file',\n}\n\nexport enum MSSQLEncryptOptions {\n  disable = 'disable',\n  false = 'false',\n  true = 'true',\n}\n\nexport enum AzureCloud {\n  Public = 'AzureCloud',\n  None = '',\n}\n\nexport type ConcealedSecretType = symbol;\n\nexport enum AzureAuthType {\n  MSI = 'msi',\n  CLIENT_SECRET = 'clientsecret',\n  AD_PASSWORD = 'ad-password',\n}\n\nexport interface AzureCredentialsType {\n  authType: AzureAuthType;\n  azureCloud?: string;\n  tenantId?: string;\n  clientId?: string;\n  clientSecret?: string | ConcealedSecretType;\n  userId?: string;\n  password?: string | ConcealedSecretType;\n}\n\nexport interface MssqlOptions extends SQLOptions {\n  authenticationType?: MSSQLAuthenticationType;\n  encrypt?: MSSQLEncryptOptions;\n  sslRootCertFile?: string;\n  serverName?: string;\n  connectionTimeout?: number;\n  azureCredentials?: AzureCredentialsType;\n  keytabFilePath?: string;\n  credentialCache?: string;\n  credentialCacheLookupFile?: string;\n  configFilePath?: string;\n  UDPConnectionLimit?: number;\n  enableDNSLookupKDC?: string;\n}\n\nexport interface MssqlSecureOptions {\n  password?: string;\n}\n\nexport type AzureAuthJSONDataType = DataSourceJsonData & {\n  azureCredentials: AzureCredentialsType;\n};\n\nexport type AzureAuthSecureJSONDataType = {\n  azureClientSecret: undefined | string | ConcealedSecretType;\n  password: undefined | string | ConcealedSecretType;\n};\n\nexport type AzureAuthConfigType = {\n  azureAuthIsSupported: boolean;\n  azureAuthSettingsUI: (props: HttpSettingsBaseProps) => JSX.Element;\n};\n","import { SelectableValue } from '@grafana/data';\n\nimport { AzureCredentialsType, AzureAuthType } from '../types';\n\nexport enum AzureCloud {\n  Public = 'AzureCloud',\n  None = '',\n}\n\nexport const KnownAzureClouds: Array<SelectableValue<AzureCloud>> = [{ value: AzureCloud.Public, label: 'Azure' }];\n\nexport function isCredentialsComplete(credentials: AzureCredentialsType): boolean {\n  switch (credentials.authType) {\n    case AzureAuthType.MSI:\n      return true;\n    case AzureAuthType.CLIENT_SECRET:\n      return !!(credentials.azureCloud && credentials.tenantId && credentials.clientId && credentials.clientSecret);\n    case AzureAuthType.AD_PASSWORD:\n      return !!(credentials.clientId && credentials.password && credentials.userId);\n  }\n}\n","import { DataSourceSettings } from '@grafana/data';\nimport { GrafanaBootConfig } from '@grafana/runtime';\n\nimport {\n  AzureCloud,\n  AzureCredentialsType,\n  ConcealedSecretType,\n  AzureAuthSecureJSONDataType,\n  AzureAuthJSONDataType,\n  AzureAuthType,\n} from '../types';\n\nexport const getDefaultCredentials = (managedIdentityEnabled: boolean, cloud: string): AzureCredentialsType => {\n  if (managedIdentityEnabled) {\n    return { authType: AzureAuthType.MSI };\n  } else {\n    return { authType: AzureAuthType.CLIENT_SECRET, azureCloud: cloud };\n  }\n};\n\nexport const getSecret = (\n  storedServerSide: boolean,\n  secret: string | symbol | undefined\n): undefined | string | ConcealedSecretType => {\n  const concealedSecret: ConcealedSecretType = Symbol('Concealed client secret');\n  if (storedServerSide) {\n    // The secret is concealed server side, so return the symbol\n    return concealedSecret;\n  } else {\n    return typeof secret === 'string' && secret.length > 0 ? secret : undefined;\n  }\n};\n\nexport const getCredentials = (\n  dsSettings: DataSourceSettings<AzureAuthJSONDataType, AzureAuthSecureJSONDataType>,\n  bootConfig: GrafanaBootConfig\n): AzureCredentialsType => {\n  // JSON data\n  const credentials = dsSettings.jsonData?.azureCredentials;\n\n  // Secure JSON data/fields\n  const clientSecretStoredServerSide = dsSettings.secureJsonFields?.azureClientSecret;\n  const clientSecret = dsSettings.secureJsonData?.azureClientSecret;\n  const passwordStoredServerSide = dsSettings.secureJsonFields?.password;\n  const password = dsSettings.secureJsonData?.password;\n\n  // BootConfig data\n  const managedIdentityEnabled = !!bootConfig.azure?.managedIdentityEnabled;\n  const cloud = bootConfig.azure?.cloud || AzureCloud.Public;\n\n  // If no credentials saved, then return empty credentials\n  // of type based on whether the managed identity enabled\n  if (!credentials) {\n    return getDefaultCredentials(managedIdentityEnabled, cloud);\n  }\n\n  switch (credentials.authType) {\n    case AzureAuthType.MSI:\n      if (managedIdentityEnabled) {\n        return {\n          authType: AzureAuthType.MSI,\n        };\n      } else {\n        // If authentication type is managed identity but managed identities were disabled in Grafana config,\n        // then we should fallback to an empty app registration (client secret) configuration\n        return {\n          authType: AzureAuthType.CLIENT_SECRET,\n          azureCloud: cloud,\n        };\n      }\n    case AzureAuthType.CLIENT_SECRET:\n      return {\n        authType: AzureAuthType.CLIENT_SECRET,\n        azureCloud: credentials.azureCloud || cloud,\n        tenantId: credentials.tenantId,\n        clientId: credentials.clientId,\n        clientSecret: getSecret(clientSecretStoredServerSide, clientSecret),\n      };\n    case AzureAuthType.AD_PASSWORD:\n      return {\n        authType: AzureAuthType.AD_PASSWORD,\n        userId: credentials.userId,\n        clientId: credentials.clientId,\n        password: getSecret(passwordStoredServerSide, password),\n      };\n  }\n};\n\nexport const updateCredentials = (\n  dsSettings: DataSourceSettings<AzureAuthJSONDataType>,\n  bootConfig: GrafanaBootConfig,\n  credentials: AzureCredentialsType\n): DataSourceSettings<AzureAuthJSONDataType> => {\n  // BootConfig data\n  const managedIdentityEnabled = !!bootConfig.azure?.managedIdentityEnabled;\n  const cloud = bootConfig.azure?.cloud || AzureCloud.Public;\n\n  switch (credentials.authType) {\n    case AzureAuthType.MSI:\n      if (!managedIdentityEnabled) {\n        throw new Error('Managed Identity authentication is not enabled in Grafana config.');\n      }\n\n      dsSettings = {\n        ...dsSettings,\n        jsonData: {\n          ...dsSettings.jsonData,\n          azureCredentials: {\n            authType: AzureAuthType.MSI,\n          },\n        },\n      };\n\n      return dsSettings;\n\n    case AzureAuthType.CLIENT_SECRET:\n      dsSettings = {\n        ...dsSettings,\n        jsonData: {\n          ...dsSettings.jsonData,\n          azureCredentials: {\n            authType: AzureAuthType.CLIENT_SECRET,\n            azureCloud: credentials.azureCloud || cloud,\n            tenantId: credentials.tenantId,\n            clientId: credentials.clientId,\n          },\n        },\n        secureJsonData: {\n          ...dsSettings.secureJsonData,\n          azureClientSecret:\n            typeof credentials.clientSecret === 'string' && credentials.clientSecret.length > 0\n              ? credentials.clientSecret\n              : undefined,\n        },\n        secureJsonFields: {\n          ...dsSettings.secureJsonFields,\n          azureClientSecret: typeof credentials.clientSecret === 'symbol',\n        },\n      };\n\n      return dsSettings;\n\n    case AzureAuthType.AD_PASSWORD:\n      return {\n        ...dsSettings,\n        jsonData: {\n          ...dsSettings.jsonData,\n          azureCredentials: {\n            authType: AzureAuthType.AD_PASSWORD,\n            userId: credentials.userId,\n            clientId: credentials.clientId,\n          },\n        },\n        secureJsonData: {\n          ...dsSettings.secureJsonData,\n          password:\n            typeof credentials.password === 'string' && credentials.password.length > 0\n              ? credentials.password\n              : undefined,\n        },\n        secureJsonFields: {\n          ...dsSettings.secureJsonFields,\n          password: typeof credentials.password === 'symbol',\n        },\n      };\n  }\n};\n","import { ChangeEvent } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Button, Field, Select, Input } from '@grafana/ui/src/components';\n\nimport { AzureCredentialsType, AzureAuthType } from '../types';\n\nexport interface Props {\n  managedIdentityEnabled: boolean;\n  azureEntraPasswordCredentialsEnabled: boolean;\n  credentials: AzureCredentialsType;\n  azureCloudOptions?: SelectableValue[];\n  onCredentialsChange: (updatedCredentials: AzureCredentialsType) => void;\n  disabled?: boolean;\n}\n\nexport const AzureCredentialsForm = (props: Props) => {\n  const {\n    managedIdentityEnabled,\n    azureEntraPasswordCredentialsEnabled,\n    credentials,\n    azureCloudOptions,\n    onCredentialsChange,\n    disabled,\n  } = props;\n\n  const onAuthTypeChange = (selected: SelectableValue<AzureAuthType>) => {\n    if (onCredentialsChange) {\n      const updated: AzureCredentialsType = {\n        ...credentials,\n        authType: selected.value || AzureAuthType.MSI,\n      };\n      onCredentialsChange(updated);\n    }\n  };\n\n  const authTypeOptions: Array<SelectableValue<AzureAuthType>> = [\n    {\n      value: AzureAuthType.CLIENT_SECRET,\n      label: 'App Registration',\n    },\n  ];\n  if (managedIdentityEnabled) {\n    authTypeOptions.push({\n      value: AzureAuthType.MSI,\n      label: 'Managed Identity',\n    });\n  }\n  if (azureEntraPasswordCredentialsEnabled) {\n    authTypeOptions.push({\n      value: AzureAuthType.AD_PASSWORD,\n      label: 'Azure Entra Password',\n    });\n  }\n\n  const onInputChange = ({ property, value }: { property: keyof AzureCredentialsType; value: string }) => {\n    if (onCredentialsChange) {\n      const updated: AzureCredentialsType = {\n        ...credentials,\n        [property]: value,\n      };\n      onCredentialsChange(updated);\n    }\n  };\n\n  return (\n    <div>\n      <Field\n        label=\"Authentication\"\n        description=\"Choose the type of authentication to Azure services\"\n        htmlFor=\"authentication-type\"\n      >\n        <Select\n          width={20}\n          value={authTypeOptions.find((opt) => opt.value === credentials.authType)}\n          options={authTypeOptions}\n          onChange={onAuthTypeChange}\n          disabled={disabled}\n        />\n      </Field>\n      {credentials.authType === AzureAuthType.CLIENT_SECRET && (\n        <>\n          {azureCloudOptions && (\n            <Field label=\"Azure Cloud\" htmlFor=\"azure-cloud-type\" disabled={disabled}>\n              <Select\n                value={azureCloudOptions.find((opt) => opt.value === credentials.azureCloud)}\n                options={azureCloudOptions}\n                onChange={(selected: SelectableValue<AzureAuthType>) => {\n                  const value = selected.value || '';\n                  onInputChange({ property: 'azureCloud', value });\n                }}\n                isDisabled={disabled}\n                inputId=\"azure-cloud-type\"\n                aria-label=\"Azure Cloud\"\n                width={20}\n              />\n            </Field>\n          )}\n          <Field\n            label=\"Directory (tenant) ID\"\n            required\n            htmlFor=\"tenant-id\"\n            invalid={!credentials.tenantId}\n            error={'Tenant ID is required'}\n          >\n            <Input\n              width={45}\n              placeholder=\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n              value={credentials.tenantId || ''}\n              onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                const value = event.target.value;\n                onInputChange({ property: 'tenantId', value });\n              }}\n              disabled={disabled}\n              aria-label=\"Tenant ID\"\n            />\n          </Field>\n          <Field\n            label=\"Application (client) ID\"\n            required\n            htmlFor=\"client-id\"\n            invalid={!credentials.clientId}\n            error={'Client ID is required'}\n          >\n            <Input\n              width={45}\n              placeholder=\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n              value={credentials.clientId || ''}\n              onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                const value = event.target.value;\n                onInputChange({ property: 'clientId', value });\n              }}\n              disabled={disabled}\n              aria-label=\"Client ID\"\n            />\n          </Field>\n          {!disabled &&\n            (typeof credentials.clientSecret === 'symbol' ? (\n              <Field label=\"Client Secret\" htmlFor=\"client-secret\" required>\n                <div className=\"width-30\" style={{ display: 'flex', gap: '4px' }}>\n                  <Input\n                    aria-label=\"Client Secret\"\n                    placeholder=\"configured\"\n                    disabled={true}\n                    data-testid={'client-secret'}\n                    width={45}\n                  />\n                  <Button\n                    variant=\"secondary\"\n                    type=\"button\"\n                    onClick={() => {\n                      onInputChange({ property: 'clientSecret', value: '' });\n                    }}\n                    disabled={disabled}\n                  >\n                    Reset\n                  </Button>\n                </div>\n              </Field>\n            ) : (\n              <Field\n                label=\"Client Secret\"\n                required\n                htmlFor=\"client-secret\"\n                invalid={!credentials.clientSecret}\n                error={'Client secret is required'}\n              >\n                <Input\n                  width={45}\n                  aria-label=\"Client Secret\"\n                  placeholder=\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n                  value={credentials.clientSecret || ''}\n                  onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                    const value = event.target.value;\n                    onInputChange({ property: 'clientSecret', value });\n                  }}\n                  id=\"client-secret\"\n                  disabled={disabled}\n                />\n              </Field>\n            ))}\n        </>\n      )}\n      {credentials.authType === AzureAuthType.AD_PASSWORD && azureEntraPasswordCredentialsEnabled && (\n        <>\n          <Field label=\"User Id\" required htmlFor=\"user-id\" invalid={!credentials.userId} error={'User ID is required'}>\n            <Input\n              width={45}\n              value={credentials.userId || ''}\n              onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                const value = event.target.value;\n                onInputChange({ property: 'userId', value });\n              }}\n              disabled={disabled}\n              aria-label=\"User ID\"\n            />\n          </Field>\n          <Field\n            label=\"Application Client ID\"\n            required\n            htmlFor=\"application-client-id\"\n            invalid={!credentials.clientId}\n            error={'Application Client ID is required'}\n          >\n            <Input\n              width={45}\n              value={credentials.clientId || ''}\n              onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                const value = event.target.value;\n                onInputChange({ property: 'clientId', value });\n              }}\n              disabled={disabled}\n              aria-label=\"Application Client ID\"\n            />\n          </Field>\n          {!disabled &&\n            (typeof credentials.password === 'symbol' ? (\n              <Field label=\"Password\" htmlFor=\"password\" required>\n                <div className=\"width-30\" style={{ display: 'flex', gap: '4px' }}>\n                  <Input\n                    aria-label=\"Password\"\n                    placeholder=\"configured\"\n                    disabled={true}\n                    data-testid={'password'}\n                    width={45}\n                  />\n                  <Button\n                    variant=\"secondary\"\n                    type=\"button\"\n                    onClick={() => {\n                      onInputChange({ property: 'password', value: '' });\n                    }}\n                    disabled={disabled}\n                  >\n                    Reset\n                  </Button>\n                </div>\n              </Field>\n            ) : (\n              <Field\n                label=\"Password\"\n                required\n                htmlFor=\"password\"\n                invalid={!credentials.password}\n                error={'Password is required'}\n              >\n                <Input\n                  width={45}\n                  aria-label=\"Password\"\n                  value={credentials.password || ''}\n                  onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                    const value = event.target.value;\n                    onInputChange({ property: 'password', value });\n                  }}\n                  id=\"password\"\n                  disabled={disabled}\n                />\n              </Field>\n            ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default AzureCredentialsForm;\n","import { useMemo } from 'react';\nimport { useEffectOnce } from 'react-use';\n\nimport { config } from '@grafana/runtime';\nimport { HttpSettingsBaseProps } from '@grafana/ui/src/components/DataSourceSettings/types';\n\nimport { AzureCredentialsType } from '../types';\n\nimport { KnownAzureClouds } from './AzureCredentials';\nimport { getCredentials, updateCredentials } from './AzureCredentialsConfig';\nimport { AzureCredentialsForm } from './AzureCredentialsForm';\n\nexport const AzureAuthSettings = (props: HttpSettingsBaseProps) => {\n  const { dataSourceConfig: dsSettings, onChange } = props;\n  const managedIdentityEnabled = config.azure.managedIdentityEnabled;\n  const azureEntraPasswordCredentialsEnabled = config.azure.azureEntraPasswordCredentialsEnabled;\n\n  const credentials = useMemo(() => getCredentials(dsSettings, config), [dsSettings]);\n\n  const onCredentialsChange = (credentials: AzureCredentialsType): void => {\n    onChange(updateCredentials(dsSettings, config, credentials));\n  };\n\n  // The auth type needs to be set on the first load of the data source\n  useEffectOnce(() => {\n    if (!dsSettings.jsonData.authType) {\n      onCredentialsChange(credentials);\n    }\n  });\n\n  return (\n    <AzureCredentialsForm\n      managedIdentityEnabled={managedIdentityEnabled}\n      azureEntraPasswordCredentialsEnabled={azureEntraPasswordCredentialsEnabled}\n      credentials={credentials}\n      azureCloudOptions={KnownAzureClouds}\n      onCredentialsChange={onCredentialsChange}\n      disabled={dsSettings.readOnly}\n    />\n  );\n};\n\nexport default AzureAuthSettings;\n","import { SyntheticEvent } from 'react';\n\nimport { DataSourcePluginOptionsEditorProps, updateDatasourcePluginJsonDataOption } from '@grafana/data';\nimport { ConfigSubSection } from '@grafana/experimental';\nimport { FieldSet, Input, Field } from '@grafana/ui';\n\nimport { MSSQLAuthenticationType, MssqlOptions } from '../types';\n\nexport const UsernameMessage = (\n  <span>\n    Use the format <code>user@EXAMPLE.COM</code>. Realm is derived from the username.\n  </span>\n);\n\nexport const KerberosConfig = (props: DataSourcePluginOptionsEditorProps<MssqlOptions>) => {\n  const { options: settings, onOptionsChange } = props;\n  const jsonData = settings.jsonData;\n  const LONG_WIDTH = 40;\n\n  const keytabFilePath = jsonData?.keytabFilePath;\n  const credentialCache = jsonData?.credentialCache;\n  const credentialCacheLookupFile = jsonData?.credentialCacheLookupFile;\n\n  const onKeytabFileChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'keytabFilePath', event.currentTarget.value);\n  };\n\n  const onCredentialCacheChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'credentialCache', event.currentTarget.value);\n  };\n\n  const onCredentialCacheFileChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'credentialCacheLookupFile', event.currentTarget.value);\n  };\n\n  return (\n    <>\n      {jsonData.authenticationType === MSSQLAuthenticationType.kerberosKeytab && (\n        <FieldSet label=\"Windows AD: Keytab\">\n          <Field\n            label=\"Username\"\n            required\n            invalid={!settings.user}\n            error={'Username is required'}\n            description={UsernameMessage}\n          >\n            <Input\n              value={settings.user || ''}\n              placeholder=\"name@EXAMPLE.COM\"\n              onChange={(e) => onOptionsChange({ ...settings, ...{ ['user']: e.currentTarget.value } })}\n              width={LONG_WIDTH}\n            />\n          </Field>\n          <Field label=\"Keytab file path\" required invalid={!keytabFilePath} error={'Keytab file path is required'}>\n            <Input\n              placeholder=\"/home/grot/grot.keytab\"\n              onChange={onKeytabFileChanged}\n              width={LONG_WIDTH}\n              required\n              value={keytabFilePath || ''}\n            />\n          </Field>\n        </FieldSet>\n      )}\n\n      {jsonData.authenticationType === MSSQLAuthenticationType.kerberosCredentialCache && (\n        <FieldSet label=\"Windows AD: Credential cache\">\n          <Field\n            label=\"Credential cache path\"\n            required\n            invalid={!credentialCache}\n            error={'Credential cache path is required'}\n          >\n            <Input\n              placeholder=\"/tmp/krb5cc_1000\"\n              onChange={onCredentialCacheChanged}\n              width={LONG_WIDTH}\n              value={credentialCache || ''}\n              required\n            />\n          </Field>\n        </FieldSet>\n      )}\n\n      {jsonData.authenticationType === MSSQLAuthenticationType.kerberosCredentialCacheLookupFile && (\n        <FieldSet label=\"Windows AD: Credential cache file\">\n          <Field\n            label=\"Username\"\n            required\n            invalid={!settings.user}\n            error={'Username is required'}\n            description={UsernameMessage}\n          >\n            <Input\n              value={settings.user || ''}\n              placeholder=\"name@EXAMPLE.COM\"\n              onChange={(e) => onOptionsChange({ ...settings, ...{ ['user']: e.currentTarget.value } })}\n              width={LONG_WIDTH}\n            />\n          </Field>\n          <Field\n            label=\"Credential cache file path\"\n            required\n            invalid={!credentialCacheLookupFile}\n            error={'Credential cache file path is required'}\n          >\n            <Input\n              placeholder=\"/home/grot/cache.json\"\n              onChange={onCredentialCacheFileChanged}\n              width={LONG_WIDTH}\n              value={credentialCacheLookupFile || ''}\n              required\n            />\n          </Field>\n        </FieldSet>\n      )}\n    </>\n  );\n};\n\nexport const KerberosAdvancedSettings = (props: DataSourcePluginOptionsEditorProps<MssqlOptions>) => {\n  const { options: settings } = props;\n  const jsonData = settings.jsonData;\n  const configFilePath = jsonData?.configFilePath;\n  const LONG_WIDTH = 40;\n  const onUDPLimitChanged = (val: number) => {\n    updateDatasourcePluginJsonDataOption(props, 'UDPConnectionLimit', val);\n  };\n\n  const onDNSLookupKDCChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'enableDNSLookupKDC', event.currentTarget.value);\n  };\n\n  const onKrbConfigChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'configFilePath', event.currentTarget.value);\n  };\n\n  return (\n    <>\n      <ConfigSubSection title=\"Windows AD: Advanced Settings\">\n        <FieldSet>\n          <Field\n            label=\"UDP Preference Limit\"\n            description={\n              <span>\n                The default is <code>1</code> and means always use TCP and is optional.\n              </span>\n            }\n          >\n            <Input\n              type=\"text\"\n              width={LONG_WIDTH}\n              placeholder=\"0\"\n              defaultValue={jsonData.UDPConnectionLimit}\n              onChange={(e) => {\n                const val = Number(e.currentTarget.value);\n                if (!Number.isNaN(val)) {\n                  onUDPLimitChanged(val);\n                }\n              }}\n            />\n          </Field>\n          <Field\n            label=\"DNS Lookup KDC\"\n            description={\n              <span>\n                Indicate whether DNS `SRV` records should be used to locate the KDCs and other servers for a realm. The\n                default is <code>true</code>.\n              </span>\n            }\n          >\n            <Input\n              type=\"text\"\n              width={LONG_WIDTH}\n              placeholder=\"true\"\n              defaultValue={jsonData.enableDNSLookupKDC}\n              onChange={onDNSLookupKDCChanged}\n            />\n          </Field>\n          <Field\n            label=\"krb5 config file path\"\n            description={\n              <span>\n                The path to the configuration file for the{' '}\n                <a href=\"https://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html\">\n                  MIT krb5 package\n                </a>\n                . The default is <code>/etc/krb5.conf</code>.\n              </span>\n            }\n          >\n            <Input\n              onChange={onKrbConfigChanged}\n              width={LONG_WIDTH}\n              required\n              value={configFilePath || '/etc/krb5.conf'}\n            />\n          </Field>\n        </FieldSet>\n      </ConfigSubSection>\n    </>\n  );\n};\n","import { css } from '@emotion/css';\nimport { SyntheticEvent } from 'react';\n\nimport {\n  DataSourcePluginOptionsEditorProps,\n  GrafanaTheme2,\n  onUpdateDatasourceJsonDataOption,\n  onUpdateDatasourceSecureJsonDataOption,\n  SelectableValue,\n  updateDatasourcePluginJsonDataOption,\n  updateDatasourcePluginResetOption,\n} from '@grafana/data';\nimport { ConfigSection, ConfigSubSection, DataSourceDescription } from '@grafana/experimental';\nimport { ConnectionLimits, useMigrateDatabaseFields } from '@grafana/sql';\nimport {\n  Alert,\n  FieldSet,\n  Input,\n  Link,\n  SecretInput,\n  Select,\n  useStyles2,\n  SecureSocksProxySettings,\n  Divider,\n  Field,\n  Switch,\n} from '@grafana/ui';\nimport { NumberInput } from 'app/core/components/OptionsUI/NumberInput';\nimport { config } from 'app/core/config';\n\nimport { AzureAuthSettings } from '../azureauth/AzureAuthSettings';\nimport {\n  MSSQLAuthenticationType,\n  MSSQLEncryptOptions,\n  MssqlOptions,\n  AzureAuthConfigType,\n  MssqlSecureOptions,\n} from '../types';\n\nimport { KerberosConfig, KerberosAdvancedSettings, UsernameMessage } from './Kerberos';\n\nconst LONG_WIDTH = 40;\n\nexport const ConfigurationEditor = (props: DataSourcePluginOptionsEditorProps<MssqlOptions, MssqlSecureOptions>) => {\n  useMigrateDatabaseFields(props);\n\n  const { options: dsSettings, onOptionsChange } = props;\n  const styles = useStyles2(getStyles);\n  const jsonData = dsSettings.jsonData;\n  const azureAuthIsSupported = config.azureAuthEnabled;\n\n  const azureAuthSettings: AzureAuthConfigType = {\n    azureAuthIsSupported,\n    azureAuthSettingsUI: AzureAuthSettings,\n  };\n\n  const onResetPassword = () => {\n    updateDatasourcePluginResetOption(props, 'password');\n  };\n\n  const onDSOptionChanged = (property: keyof MssqlOptions) => {\n    return (event: SyntheticEvent<HTMLInputElement>) => {\n      onOptionsChange({ ...dsSettings, ...{ [property]: event.currentTarget.value } });\n    };\n  };\n\n  const onSkipTLSVerifyChanged = (event: SyntheticEvent<HTMLInputElement>) => {\n    updateDatasourcePluginJsonDataOption(props, 'tlsSkipVerify', event.currentTarget.checked);\n  };\n\n  const onEncryptChanged = (value: SelectableValue) => {\n    updateDatasourcePluginJsonDataOption(props, 'encrypt', value.value);\n  };\n\n  const onAuthenticationMethodChanged = (value: SelectableValue) => {\n    onOptionsChange({\n      ...dsSettings,\n      ...{\n        jsonData: {\n          ...jsonData,\n          ...{ authenticationType: value.value },\n          azureCredentials: undefined,\n          keytabFilePath: undefined,\n          credentialCache: undefined,\n          credentialCacheLookupFile: undefined,\n        },\n        secureJsonData: { ...dsSettings.secureJsonData, ...{ password: '' } },\n        secureJsonFields: { ...dsSettings.secureJsonFields, ...{ password: false } },\n        user: '',\n      },\n    });\n  };\n\n  const onConnectionTimeoutChanged = (connectionTimeout?: number) => {\n    updateDatasourcePluginJsonDataOption(props, 'connectionTimeout', connectionTimeout ?? 0);\n  };\n\n  const buildAuthenticationOptions = (): Array<SelectableValue<MSSQLAuthenticationType>> => {\n    const basicAuthenticationOptions: Array<SelectableValue<MSSQLAuthenticationType>> = [\n      { value: MSSQLAuthenticationType.sqlAuth, label: 'SQL Server Authentication' },\n      { value: MSSQLAuthenticationType.windowsAuth, label: 'Windows Authentication' },\n      { value: MSSQLAuthenticationType.kerberosRaw, label: 'Windows AD: Username + password' },\n      { value: MSSQLAuthenticationType.kerberosKeytab, label: 'Windows AD: Keytab file' },\n      { value: MSSQLAuthenticationType.kerberosCredentialCache, label: 'Windows AD: Credential cache' },\n      { value: MSSQLAuthenticationType.kerberosCredentialCacheLookupFile, label: 'Windows AD: Credential cache file' },\n    ];\n\n    if (azureAuthIsSupported) {\n      return [\n        ...basicAuthenticationOptions,\n        { value: MSSQLAuthenticationType.azureAuth, label: MSSQLAuthenticationType.azureAuth },\n      ];\n    }\n\n    return basicAuthenticationOptions;\n  };\n\n  const encryptOptions: Array<SelectableValue<string>> = [\n    { value: MSSQLEncryptOptions.disable, label: 'disable' },\n    { value: MSSQLEncryptOptions.false, label: 'false' },\n    { value: MSSQLEncryptOptions.true, label: 'true' },\n  ];\n\n  return (\n    <>\n      <DataSourceDescription\n        dataSourceName=\"Microsoft SQL Server\"\n        docsLink=\"https://grafana.com/docs/grafana/latest/datasources/mssql/\"\n        hasRequiredFields\n      />\n      <Alert title=\"User Permission\" severity=\"info\">\n        The database user should only be granted SELECT permissions on the specified database and tables you want to\n        query. Grafana does not validate that queries are safe so queries can contain any SQL statement. For example,\n        statements like <code>USE otherdb;</code> and <code>DROP TABLE user;</code> would be executed. To protect\n        against this we <em>highly</em> recommend you create a specific MS SQL user with restricted permissions. Check\n        out the{' '}\n        <Link rel=\"noreferrer\" target=\"_blank\" href=\"http://docs.grafana.org/features/datasources/mssql/\">\n          Microsoft SQL Server Data Source Docs\n        </Link>{' '}\n        for more information.\n      </Alert>\n      <Divider />\n      <ConfigSection title=\"Connection\">\n        <Field label=\"Host\" required invalid={!dsSettings.url} error={'Host is required'}>\n          <Input\n            width={LONG_WIDTH}\n            name=\"host\"\n            type=\"text\"\n            value={dsSettings.url || ''}\n            placeholder=\"localhost:1433\"\n            onChange={onDSOptionChanged('url')}\n          />\n        </Field>\n        <Field label=\"Database\" required invalid={!jsonData.database} error={'Database is required'}>\n          <Input\n            width={LONG_WIDTH}\n            name=\"database\"\n            value={jsonData.database || ''}\n            placeholder=\"database name\"\n            onChange={onUpdateDatasourceJsonDataOption(props, 'database')}\n          />\n        </Field>\n      </ConfigSection>\n\n      <ConfigSection title=\"TLS/SSL Auth\">\n        <Field\n          htmlFor=\"encrypt\"\n          description={\n            <>\n              Determines whether or to which extent a secure SSL TCP/IP connection will be negotiated with the server.\n              <ul className={styles.ulPadding}>\n                <li>\n                  <i>disable</i> - Data sent between client and server is not encrypted.\n                </li>\n                <li>\n                  <i>false</i> - Data sent between client and server is not encrypted beyond the login packet. (default)\n                </li>\n                <li>\n                  <i>true</i> - Data sent between client and server is encrypted.\n                </li>\n              </ul>\n              If you&apos;re using an older version of Microsoft SQL Server like 2008 and 2008R2 you may need to disable\n              encryption to be able to connect.\n            </>\n          }\n          label=\"Encrypt\"\n        >\n          <Select\n            options={encryptOptions}\n            value={jsonData.encrypt || MSSQLEncryptOptions.false}\n            inputId=\"encrypt\"\n            onChange={onEncryptChanged}\n            width={LONG_WIDTH}\n          />\n        </Field>\n\n        {jsonData.encrypt === MSSQLEncryptOptions.true ? (\n          <>\n            <Field htmlFor=\"skipTlsVerify\" label=\"Skip TLS Verify\">\n              <Switch id=\"skipTlsVerify\" onChange={onSkipTLSVerifyChanged} value={jsonData.tlsSkipVerify || false} />\n            </Field>\n            {jsonData.tlsSkipVerify ? null : (\n              <>\n                <Field\n                  description={\n                    <span>\n                      Path to file containing the public key certificate of the CA that signed the SQL Server\n                      certificate. Needed when the server certificate is self signed.\n                    </span>\n                  }\n                  label=\"TLS/SSL Root Certificate\"\n                >\n                  <Input\n                    value={jsonData.sslRootCertFile || ''}\n                    onChange={onUpdateDatasourceJsonDataOption(props, 'sslRootCertFile')}\n                    placeholder=\"TLS/SSL root certificate file path\"\n                    width={LONG_WIDTH}\n                  />\n                </Field>\n                <Field label=\"Hostname in server certificate\">\n                  <Input\n                    placeholder=\"Common Name (CN) in server certificate\"\n                    value={jsonData.serverName || ''}\n                    onChange={onUpdateDatasourceJsonDataOption(props, 'serverName')}\n                    width={LONG_WIDTH}\n                  />\n                </Field>\n              </>\n            )}\n          </>\n        ) : null}\n      </ConfigSection>\n\n      <ConfigSection title=\"Authentication\">\n        <Field\n          label=\"Authentication Type\"\n          htmlFor=\"authenticationType\"\n          description={\n            <ul className={styles.ulPadding}>\n              <li>\n                <i>SQL Server Authentication</i> This is the default mechanism to connect to MS SQL Server. Enter the\n                SQL Server Authentication login or the Windows Authentication login in the DOMAIN\\User format.\n              </li>\n              <li>\n                <i>Windows Authentication</i> Windows Integrated Security - single sign on for users who are already\n                logged onto Windows and have enabled this option for MS SQL Server.\n              </li>\n              {azureAuthIsSupported && (\n                <li>\n                  <i>Azure Authentication</i> Securely authenticate and access Azure resources and applications using\n                  Azure AD credentials - Managed Service Identity and Client Secret Credentials are supported.\n                </li>\n              )}\n              <li>\n                <i>Windows AD: Username + password</i> Windows Active Directory - Sign on for domain user via\n                username/password.\n              </li>\n              <li>\n                <i>Windows AD: Keytab</i> Windows Active Directory - Sign on for domain user via keytab file.\n              </li>\n              <li>\n                <i>Windows AD: Credential cache</i> Windows Active Directory - Sign on for domain user via credential\n                cache.\n              </li>\n              <li>\n                <i>Windows AD: Credential cache file</i> Windows Active Directory - Sign on for domain user via\n                credential cache file.\n              </li>\n            </ul>\n          }\n        >\n          <Select\n            // Default to basic authentication of none is set\n            value={jsonData.authenticationType || MSSQLAuthenticationType.sqlAuth}\n            inputId=\"authenticationType\"\n            options={buildAuthenticationOptions()}\n            onChange={onAuthenticationMethodChanged}\n            width={LONG_WIDTH}\n          />\n        </Field>\n\n        <KerberosConfig {...props} />\n\n        {/* Basic SQL auth. Render if authType === MSSQLAuthenticationType.sqlAuth OR\n        authType === MSSQLAuthenticationType.kerberosRaw OR\n        if no authType exists, which will be the case when creating a new data source */}\n        {(jsonData.authenticationType === MSSQLAuthenticationType.sqlAuth ||\n          jsonData.authenticationType === MSSQLAuthenticationType.kerberosRaw ||\n          !jsonData.authenticationType) && (\n          <>\n            <Field\n              label=\"Username\"\n              required\n              invalid={!dsSettings.user}\n              error={'Username is required'}\n              description={jsonData.authenticationType === MSSQLAuthenticationType.kerberosRaw ? UsernameMessage : ''}\n            >\n              <Input\n                value={dsSettings.user || ''}\n                placeholder={\n                  jsonData.authenticationType === MSSQLAuthenticationType.kerberosRaw ? 'name@EXAMPLE.COM' : 'user'\n                }\n                onChange={onDSOptionChanged('user')}\n                width={LONG_WIDTH}\n              />\n            </Field>\n            <Field\n              label=\"Password\"\n              required\n              invalid={!dsSettings.secureJsonFields.password && !dsSettings.secureJsonData?.password}\n              error={'Password is required'}\n            >\n              <SecretInput\n                width={LONG_WIDTH}\n                placeholder=\"Password\"\n                isConfigured={dsSettings.secureJsonFields && dsSettings.secureJsonFields.password}\n                onReset={onResetPassword}\n                onChange={onUpdateDatasourceSecureJsonDataOption(props, 'password')}\n                required\n              />\n            </Field>\n          </>\n        )}\n\n        {azureAuthIsSupported && jsonData.authenticationType === MSSQLAuthenticationType.azureAuth && (\n          <FieldSet label=\"Azure Authentication Settings\">\n            <azureAuthSettings.azureAuthSettingsUI dataSourceConfig={dsSettings} onChange={onOptionsChange} />\n          </FieldSet>\n        )}\n      </ConfigSection>\n\n      <Divider />\n      <ConfigSection\n        title=\"Additional settings\"\n        description=\"Additional settings are optional settings that can be configured for more control over your data source. This includes connection limits, connection timeout, group-by time interval, and Secure Socks Proxy.\"\n        isCollapsible={true}\n        isInitiallyOpen={true}\n      >\n        <ConnectionLimits options={dsSettings} onOptionsChange={onOptionsChange} />\n\n        <ConfigSubSection title=\"Connection details\">\n          <Field\n            description={\n              <span>\n                A lower limit for the auto group by time interval. Recommended to be set to write frequency, for example\n                <code>1m</code> if your data is written every minute.\n              </span>\n            }\n            label=\"Min time interval\"\n          >\n            <Input\n              width={LONG_WIDTH}\n              placeholder=\"1m\"\n              value={jsonData.timeInterval || ''}\n              onChange={onUpdateDatasourceJsonDataOption(props, 'timeInterval')}\n            />\n          </Field>\n          <Field\n            description={\n              <span>\n                The number of seconds to wait before canceling the request when connecting to the database. The default\n                is <code>0</code>, meaning no timeout.\n              </span>\n            }\n            label=\"Connection timeout\"\n          >\n            <NumberInput\n              width={LONG_WIDTH}\n              placeholder=\"60\"\n              min={0}\n              value={jsonData.connectionTimeout}\n              onChange={onConnectionTimeoutChanged}\n            />\n          </Field>\n        </ConfigSubSection>\n        {config.secureSocksDSProxyEnabled && (\n          <SecureSocksProxySettings options={dsSettings} onOptionsChange={onOptionsChange} />\n        )}\n        <KerberosAdvancedSettings {...props} />\n      </ConfigSection>\n    </>\n  );\n};\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    ulPadding: css({\n      margin: theme.spacing(1, 0),\n      paddingLeft: theme.spacing(5),\n    }),\n  };\n}\n","export function showDatabases() {\n  // Return only user defined databases\n  return `SELECT name FROM sys.databases WHERE name NOT IN ('master', 'tempdb', 'model', 'msdb');`;\n}\n\nexport function getSchemaAndName(database?: string) {\n  return `SELECT TABLE_SCHEMA + '.' + TABLE_NAME as schemaAndName\n    FROM [${database}].INFORMATION_SCHEMA.TABLES`;\n}\n\nexport function getSchema(database?: string, table?: string) {\n  return `\n   USE ${database}\n   SELECT COLUMN_NAME as 'column',DATA_TYPE as 'type'\n   FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME='${table}';`;\n}\n","import { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { applyQueryDefaults, SQLQuery, SqlQueryModel } from '@grafana/sql';\n\nexport class MSSqlQueryModel implements SqlQueryModel {\n  target: SQLQuery;\n  templateSrv?: TemplateSrv;\n  scopedVars?: ScopedVars;\n\n  constructor(target?: SQLQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = applyQueryDefaults(target || { refId: 'A' });\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n  }\n\n  quoteLiteral(value: string) {\n    return \"'\" + value.replace(/'/g, \"''\") + \"'\";\n  }\n}\n","import {\n  ColumnDefinition,\n  getStandardSQLCompletionProvider,\n  LanguageCompletionProvider,\n  LinkedToken,\n  TableDefinition,\n  TableIdentifier,\n  TokenType,\n} from '@grafana/experimental';\nimport { DB, SQLQuery } from '@grafana/sql';\n\ninterface CompletionProviderGetterArgs {\n  getColumns: React.MutableRefObject<(t: SQLQuery) => Promise<ColumnDefinition[]>>;\n  getTables: React.MutableRefObject<(d?: string) => Promise<TableDefinition[]>>;\n}\n\nexport const getSqlCompletionProvider: (args: CompletionProviderGetterArgs) => LanguageCompletionProvider =\n  ({ getColumns, getTables }) =>\n  (monaco, language) => ({\n    ...(language && getStandardSQLCompletionProvider(monaco, language)),\n    tables: {\n      resolve: async (identifier) => {\n        return await getTables.current(identifier?.table);\n      },\n      parseName: (token: LinkedToken | undefined | null) => {\n        if (!token) {\n          return { table: '' };\n        }\n\n        let processedToken = token;\n        let tablePath = processedToken.value;\n\n        while (processedToken.next && processedToken.next.type !== TokenType.Whitespace) {\n          tablePath += processedToken.next.value;\n          processedToken = processedToken.next;\n        }\n\n        if (processedToken.value.endsWith('.')) {\n          tablePath = processedToken.value.slice(0, processedToken.value.length - 1);\n        }\n\n        return { table: tablePath };\n      },\n    },\n\n    columns: {\n      resolve: async (t: TableIdentifier | undefined) => {\n        if (!t?.table) {\n          return [];\n        }\n        // TODO: Use schema instead of table\n        const [database, schema, tableName] = t.table.split('.');\n        return await getColumns.current({ table: `${schema}.${tableName}`, dataset: database, refId: 'A' });\n      },\n    },\n  });\n\nexport async function fetchColumns(db: DB, q: SQLQuery) {\n  const cols = await db.fields(q);\n  if (cols.length > 0) {\n    return cols.map((c) => {\n      return { name: c.value, type: c.value, description: c.value };\n    });\n  } else {\n    return [];\n  }\n}\n\nexport async function fetchTables(db: DB, dataset?: string) {\n  const tables = await db.lookup?.(dataset);\n  return tables || [];\n}\n","import { isEmpty } from 'lodash';\n\nimport { RAQBFieldTypes, SQLExpression, SQLQuery, haveColumns } from '@grafana/sql';\n\nexport function getIcon(type: string): string | undefined {\n  switch (type) {\n    case 'datetimeoffset':\n    case 'date':\n    case 'datetime2':\n    case 'smalldatetime':\n    case 'datetime':\n    case 'time':\n      return 'clock-nine';\n    case 'bit':\n      return 'toggle-off';\n    case 'tinyint':\n    case 'smallint':\n    case 'int':\n    case 'bigint':\n    case 'decimal':\n    case 'numeric':\n    case 'real':\n    case 'float':\n    case 'money':\n    case 'smallmoney':\n      return 'calculator-alt';\n    case 'char':\n    case 'varchar':\n    case 'text':\n    case 'nchar':\n    case 'nvarchar':\n    case 'ntext':\n    case 'binary':\n    case 'varbinary':\n    case 'image':\n      return 'text';\n    default:\n      return undefined;\n  }\n}\n\nexport function getRAQBType(type: string): RAQBFieldTypes {\n  switch (type) {\n    case 'datetimeoffset':\n    case 'datetime2':\n    case 'smalldatetime':\n    case 'datetime':\n      return 'datetime';\n    case 'time':\n      return 'time';\n    case 'date':\n      return 'date';\n    case 'bit':\n      return 'boolean';\n    case 'tinyint':\n    case 'smallint':\n    case 'int':\n    case 'bigint':\n    case 'decimal':\n    case 'numeric':\n    case 'real':\n    case 'float':\n    case 'money':\n    case 'smallmoney':\n      return 'number';\n    case 'char':\n    case 'varchar':\n    case 'text':\n    case 'nchar':\n    case 'nvarchar':\n    case 'ntext':\n    case 'binary':\n    case 'varbinary':\n    case 'image':\n      return 'text';\n    default:\n      return 'text';\n  }\n}\n\nexport function toRawSql({ sql, dataset, table }: SQLQuery): string {\n  let rawQuery = '';\n\n  // Return early with empty string if there is no sql column\n  if (!sql || !haveColumns(sql.columns)) {\n    return rawQuery;\n  }\n\n  rawQuery += createSelectClause(sql.columns, sql.limit);\n\n  if (dataset && table) {\n    rawQuery += `FROM ${dataset}.${table} `;\n  }\n\n  if (sql.whereString) {\n    rawQuery += `WHERE ${sql.whereString} `;\n  }\n\n  if (sql.groupBy?.[0]?.property.name) {\n    const groupBy = sql.groupBy.map((g) => g.property.name).filter((g) => !isEmpty(g));\n    rawQuery += `GROUP BY ${groupBy.join(', ')} `;\n  }\n\n  if (sql.orderBy?.property.name) {\n    rawQuery += `ORDER BY ${sql.orderBy.property.name} `;\n  }\n\n  if (sql.orderBy?.property.name && sql.orderByDirection) {\n    rawQuery += `${sql.orderByDirection} `;\n  }\n\n  return rawQuery;\n}\n\nfunction createSelectClause(sqlColumns: NonNullable<SQLExpression['columns']>, limit?: number): string {\n  const columns = sqlColumns.map((c) => {\n    let rawColumn = '';\n    if (c.name && c.alias) {\n      rawColumn += `${c.name}(${c.parameters?.map((p) => `${p.name}`)}) AS ${c.alias}`;\n    } else if (c.name) {\n      rawColumn += `${c.name}(${c.parameters?.map((p) => `${p.name}`)})`;\n    } else if (c.alias) {\n      rawColumn += `${c.parameters?.map((p) => `${p.name}`)} AS ${c.alias}`;\n    } else {\n      rawColumn += `${c.parameters?.map((p) => `${p.name}`)}`;\n    }\n    return rawColumn;\n  });\n  return `SELECT ${isLimit(limit) ? 'TOP(' + limit + ')' : ''} ${columns.join(', ')} `;\n}\n\nconst isLimit = (limit: number | undefined): boolean => limit !== undefined && limit >= 0;\n","import { DataSourceInstanceSettings, ScopedVars } from '@grafana/data';\nimport { LanguageDefinition } from '@grafana/experimental';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { DB, SQLQuery, SqlDatasource, SQLSelectableValue, formatSQL } from '@grafana/sql';\n\nimport { getSchema, showDatabases, getSchemaAndName } from './MSSqlMetaQuery';\nimport { MSSqlQueryModel } from './MSSqlQueryModel';\nimport { fetchColumns, fetchTables, getSqlCompletionProvider } from './sqlCompletionProvider';\nimport { getIcon, getRAQBType, toRawSql } from './sqlUtil';\nimport { MssqlOptions } from './types';\n\nexport class MssqlDatasource extends SqlDatasource {\n  sqlLanguageDefinition: LanguageDefinition | undefined = undefined;\n  constructor(instanceSettings: DataSourceInstanceSettings<MssqlOptions>) {\n    super(instanceSettings);\n  }\n\n  getQueryModel(target?: SQLQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars): MSSqlQueryModel {\n    return new MSSqlQueryModel(target, templateSrv, scopedVars);\n  }\n\n  async fetchDatasets(): Promise<string[]> {\n    const datasets = await this.runSql<{ name: string[] }>(showDatabases(), { refId: 'datasets' });\n    return datasets.fields.name?.values.flat() ?? [];\n  }\n\n  async fetchTables(dataset?: string): Promise<string[]> {\n    // We get back the table name with the schema as well. like dbo.table\n    const tables = await this.runSql<{ schemaAndName: string[] }>(getSchemaAndName(dataset), { refId: 'tables' });\n    return tables.fields.schemaAndName?.values.flat() ?? [];\n  }\n\n  async fetchFields(query: SQLQuery): Promise<SQLSelectableValue[]> {\n    if (!query.table) {\n      return [];\n    }\n    const [_, table] = query.table.split('.');\n    const schema = await this.runSql<{ column: string; type: string }>(getSchema(query.dataset, table), {\n      refId: 'columns',\n    });\n    const result: SQLSelectableValue[] = [];\n    for (let i = 0; i < schema.length; i++) {\n      const column = schema.fields.column.values[i];\n      const type = schema.fields.type.values[i];\n      result.push({ label: column, value: column, type, icon: getIcon(type), raqbFieldType: getRAQBType(type) });\n    }\n    return result;\n  }\n\n  getSqlLanguageDefinition(db: DB): LanguageDefinition {\n    if (this.sqlLanguageDefinition !== undefined) {\n      return this.sqlLanguageDefinition;\n    }\n    const args = {\n      getColumns: { current: (query: SQLQuery) => fetchColumns(db, query) },\n      getTables: { current: (dataset?: string) => fetchTables(db, dataset) },\n    };\n    this.sqlLanguageDefinition = {\n      id: 'sql',\n      completionProvider: getSqlCompletionProvider(args),\n      formatter: formatSQL,\n    };\n    return this.sqlLanguageDefinition;\n  }\n\n  getDB(): DB {\n    if (this.db !== undefined) {\n      return this.db;\n    }\n    return {\n      init: () => Promise.resolve(true),\n      datasets: () => this.fetchDatasets(),\n      tables: (dataset?: string) => this.fetchTables(dataset),\n      getEditorLanguageDefinition: () => this.getSqlLanguageDefinition(this.db),\n      fields: async (query: SQLQuery) => {\n        if (!query?.dataset || !query?.table) {\n          return [];\n        }\n        return this.fetchFields(query);\n      },\n      validateQuery: (query) =>\n        Promise.resolve({ isError: false, isValid: true, query, error: '', rawSql: query.rawSql }),\n      dsID: () => this.id,\n      dispose: (_dsID?: string) => {},\n      toRawSql,\n      lookup: async (path?: string) => {\n        if (!path) {\n          const datasets = await this.fetchDatasets();\n          return datasets.map((d) => ({ name: d, completion: `${d}.` }));\n        } else {\n          const parts = path.split('.').filter((s: string) => s);\n          if (parts.length > 2) {\n            return [];\n          }\n          if (parts.length === 1) {\n            const tables = await this.fetchTables(parts[0]);\n            return tables.map((t) => ({ name: t, completion: t }));\n          } else {\n            return [];\n          }\n        }\n      },\n    };\n  }\n}\n","import { DataSourcePlugin } from '@grafana/data';\nimport { SQLQuery, SqlQueryEditor } from '@grafana/sql';\n\nimport { CheatSheet } from './CheatSheet';\nimport { ConfigurationEditor } from './configuration/ConfigurationEditor';\nimport { MssqlDatasource } from './datasource';\nimport { MssqlOptions } from './types';\n\nexport const plugin = new DataSourcePlugin<MssqlDatasource, SQLQuery, MssqlOptions>(MssqlDatasource)\n  .setQueryEditor(SqlQueryEditor)\n  .setQueryEditorHelp(CheatSheet)\n  .setConfigEditor(ConfigurationEditor);\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","__objRest","source","exclude","target","ConfigSection","_a","_b","children","props","DataSourceDescription","dataSourceName","docsLink","hasRequiredFields","className","theme","styles","CheatSheet","getStyles","MSSQLAuthenticationType","MSSQLEncryptOptions","AzureCloud","AzureAuthType","KnownAzureClouds","isCredentialsComplete","credentials","getDefaultCredentials","managedIdentityEnabled","cloud","getSecret","storedServerSide","secret","concealedSecret","getCredentials","dsSettings","bootConfig","clientSecretStoredServerSide","clientSecret","passwordStoredServerSide","password","updateCredentials","AzureCredentialsForm","azureEntraPasswordCredentialsEnabled","azureCloudOptions","onCredentialsChange","disabled","onAuthTypeChange","selected","updated","authTypeOptions","onInputChange","property","Field","Select","opt","Input","event","Button","AzureAuthSettings","onChange","useEffectOnce","UsernameMessage","KerberosConfig","settings","onOptionsChange","jsonData","LONG_WIDTH","keytabFilePath","credentialCache","credentialCacheLookupFile","onKeytabFileChanged","onCredentialCacheChanged","onCredentialCacheFileChanged","FieldSet","e","KerberosAdvancedSettings","configFilePath","onUDPLimitChanged","val","onDNSLookupKDCChanged","onKrbConfigChanged","ConfigSubSection","ConfigurationEditor","azureAuthIsSupported","config","azureAuthSettings","onResetPassword","onDSOptionChanged","onSkipTLSVerifyChanged","onEncryptChanged","onAuthenticationMethodChanged","onConnectionTimeoutChanged","connectionTimeout","buildAuthenticationOptions","basicAuthenticationOptions","encryptOptions","Alert","Link","Divider","Switch","SecretInput","NumberInput","SecureSocksProxySettings","showDatabases","getSchemaAndName","database","getSchema","table","MSSqlQueryModel","templateSrv","scopedVars","getSqlCompletionProvider","getColumns","getTables","monaco","language","identifier","token","processedToken","tablePath","t","schema","tableName","fetchColumns","db","q","cols","c","fetchTables","dataset","getIcon","type","getRAQBType","toRawSql","sql","rawQuery","createSelectClause","groupBy","g","sqlColumns","limit","columns","rawColumn","p","isLimit","MssqlDatasource","instanceSettings","query","_","result","i","column","args","_dsID","path","parts","s","d"],"sourceRoot":""}